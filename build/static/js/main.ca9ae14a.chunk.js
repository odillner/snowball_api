(this.webpackJsonpsnowball_frontend=this.webpackJsonpsnowball_frontend||[]).push([[0],{13:function(e,t,n){var a="http://localhost:3005/";a="/",e.exports={API_URL:a}},30:function(e,t,n){e.exports=n(59)},35:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(28),u=n.n(c),l=(n(35),n(4)),s=n(11),o=n(3),i=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"snowballer"))},p=function(){return r.a.createElement("div",{className:"navbar"},r.a.createElement(s.b,{to:"/"},"LogIn"),r.a.createElement(s.b,{to:"/ownprofile"},"Profile"),r.a.createElement(s.b,{to:"/newuser",className:"right"},"Sign Up"),r.a.createElement(s.b,{to:"/allusers"},"All Users"),r.a.createElement(s.b,{to:"/newsnowball"},"New Snowball"),r.a.createElement(s.b,{to:"/allsnowballs"},"All Snowballs"))},f=n(1),m=n.n(f),v=n(2),b=n(6),d=n.n(b),E=n(13),w=E.API_URL+"api/users/",h={getAll:function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(w);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(v.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post(w,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),read:function(){var e=Object(v.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(w+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(v.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete(w+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(v.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("".concat(w).concat(t),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},j=E.API_URL+"api/snowballs/",O={getAll:function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(j);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(v.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post(j,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),read:function(){var e=Object(v.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(j+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(v.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete(j+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(v.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("".concat(j).concat(t),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},x=function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],u=n[1];Object(a.useEffect)((function(){e.id?s(e.id):e.snowball&&u(e.snowball)}),[]);var s=function(){var e=Object(v.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.read(t);case 2:n=e.sent,u(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"snowball"},r.a.createElement("p",null,"name: ",c.name," "),r.a.createElement("p",null,"owner id: ",c.owner," "),r.a.createElement("p",null,"snowball id: ",c.id," "))},g=function(e){var t=e.snowballs;return t&&t[0]?r.a.createElement("div",{className:"profile"},r.a.createElement("h2",null,e.title),t.map((function(e){return e.id?r.a.createElement(x,{snowball:e,key:e.id}):r.a.createElement(x,{id:e,key:e})}))):r.a.createElement("div",null)},k=function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],u=n[1];Object(a.useEffect)((function(){e.id?s(e.id):e.user&&u(e.user)}),[]);var s=function(){var e=Object(v.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.read(t);case 2:n=e.sent,u(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"profile"},r.a.createElement("h1",null,"profile"),r.a.createElement("p",null,"username: ",c.username," "),r.a.createElement("p",null,"email: ",c.email," "),r.a.createElement("p",null,"id: ",c.id," "),r.a.createElement(g,{title:"own snowballs:",snowballs:c.own_snowballs}),r.a.createElement(g,{title:"participating in:",snowballs:c.part_snowballs}))},y=function(e){return e.user?r.a.createElement("div",null,r.a.createElement(k,{user:e.user})):r.a.createElement("div",null,"log in to view profile")},S=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],u=n[1],s=Object(a.useState)(""),o=Object(l.a)(s,2),i=o[0],p=o[1],f=Object(a.useState)(""),b=Object(l.a)(f,2),d=b[0],E=b[1],w=function(){var e=Object(v.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={username:c,email:i,password:d},e.next=4,h.create(n);case 4:e.sent,u(""),p(""),E("");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:c,onChange:function(e){u(e.target.value)}})),r.a.createElement("div",null,"email: ",r.a.createElement("input",{value:i,onChange:function(e){p(e.target.value)}})),r.a.createElement("div",null,"password: ",r.a.createElement("input",{value:d,onChange:function(e){E(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:w},"Sign Up"))))},A=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],u=n[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getAll();case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,c.map((function(e){return r.a.createElement(k,{user:e,key:e.username})})))},C=E.API_URL+"api/login/",N={auth:function(){var e=Object(v.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post(C,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],u=n[1],s=Object(a.useState)(""),o=Object(l.a)(s,2),i=o[0],p=o[1],f=Object(a.useState)(""),b=Object(l.a)(f,2),d=b[0],E=b[1],w=function(){var t=Object(v.a)(m.a.mark((function t(n){var a,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a={username:i,password:d},t.prev=2,t.next=5,N.auth(a);case 5:r=t.sent,e.setSession(r),u("Logged in successfully"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),u("Failed to log in");case 13:p(""),E("");case 15:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h1",null,c),r.a.createElement("form",null,r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:i,onChange:function(e){p(e.target.value)}})),r.a.createElement("div",null,"password: ",r.a.createElement("input",{value:d,onChange:function(e){E(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:w},"Log In"))))},I=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],u=n[1],s=function(){var t=Object(v.a)(m.a.mark((function t(n){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a={name:c,owner:e.user.id},t.next=4,O.create(a);case 4:u("");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return e.user?r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:c,onChange:function(e){u(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:s},"Create Snowball")))):r.a.createElement("div",null,"log in to create snowball")},L=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],u=n[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getAll();case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,c.map((function(e){return r.a.createElement(x,{snowball:e,key:e.name})})))};var U=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=(t[0],t[1]),c=Object(a.useState)(null),u=Object(l.a)(c,2),f=u[0],m=u[1];return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(i,null),r.a.createElement(p,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/"},r.a.createElement(_,{setSession:function(e){n(e.token),m(e.user)}})),r.a.createElement(o.a,{path:"/ownprofile"},r.a.createElement(y,{user:f})),r.a.createElement(o.a,{path:"/newuser"},r.a.createElement(S,null)),r.a.createElement(o.a,{path:"/allusers"},r.a.createElement(A,null)),r.a.createElement(o.a,{path:"/allsnowballs"},r.a.createElement(L,null)),r.a.createElement(o.a,{path:"/newsnowball"},r.a.createElement(I,{user:f}))))))};u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.ca9ae14a.chunk.js.map